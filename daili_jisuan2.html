<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
  <!--缓存代理工厂模式-->
	<script type="text/javascript">
        var mult=function() {
            var a=1;
            for(var i=0,l=arguments.length; i<l;i++){
                 a=a*arguments[i];
            };
            return a;
        }

        var addMult=function(){
              var a=1;
              for (var i=0,l=arguments.length;i<l; i++) {
                     a=a+arguments[i];
              };

              return a;

        }

        var proxyMult=function(fn){
               var cache={};
               return function(){
               var  argus=Array.prototype.join.call(arguments,',');
               if(argus in cache){
                   return cache[argus];
               }
                return  cache[argus]=fn.apply(this,arguments);
             }
        };

         var proxya=proxyMult(mult);
         var proxyb=proxyMult(addMult);
         console.log(proxya(1,2,31));
         console.log(proxyb(1,2,31));

  



	</script>
</head>
<body>
 
</body>
</html>