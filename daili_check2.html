<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<script type="text/javascript">
       //代理模式选中check
    window.onload=function(){
       var synchronousFile=function(id){
       	   console.log('id为'+id);
       };

       var porxySynchronousFile=(function(){
       	   var cache=[],
            timer;
           return function(id){
           	   cache.push(id);
           	   if(timer){
           	   	return;
           	   }
            timer=setTimeout(function(){
               synchronousFile(cache.join(','));
               clearTimeout(timer);
               timer=null;
               cache.length=0;
           },2000);
	    }      
    })();

    var checkbox=document.getElementsByTagName('input');
        for(var i=0,c;c=checkbox[i++];){
        	  c.onclick=function(){
        	  	  if(this.checked===true){
        	  	  	  porxySynchronousFile(this.id);
        	  	  }
        	  }
        };
 　   } 

	</script>
</head>
<body>
   <input type="checkbox" id="1"/>1
   <input type="checkbox" id="2"/>2
   <input type="checkbox" id="3"/>3
   <input type="checkbox" id="4"/>4
   <input type="checkbox" id="5"/>5
   <input type="checkbox" id="6"/>6
   <input type="checkbox" id="7"/>7
</body>
</html>